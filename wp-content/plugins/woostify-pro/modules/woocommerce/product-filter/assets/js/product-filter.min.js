"use strict";function ownKeys(t,e){var o,r=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var woostifyFilterDatePicker=function(){var e=document.querySelector(".w-product-filter[data-type=date-range] .w-product-filter-inner");if(e)for(var t={mode:"dp-below"},o=("undefined"!=typeof woostify_datepicker_data&&(t.lang={},t.lang.months=woostify_datepicker_data.months,t.lang.days=woostify_datepicker_data.days,t.lang.today=woostify_datepicker_data.today,t.lang.clear=woostify_datepicker_data.clear,t.lang.close=woostify_datepicker_data.close),e.querySelectorAll(".w-filter-date-picker")),r=0,i=o.length;r<i;r++)TinyDatePicker(o[r],t)},woostifyToggleFilterHorizontal=function(){var e=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter .widget-title, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .widget-title"),o=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .w-product-filter");e.length&&e.forEach(function(t){t.onclick=function(){var e=t.parentNode;e.classList.contains("open")?e.classList.remove("open"):(o.forEach(function(e){e.classList.remove("open")}),e.classList.add("open"))}})},woostifyToggleFilter=function(){var e=document.querySelectorAll(".w-product-filter:not(.no-collapse) .widget-title");e.length&&e.forEach(function(r){var e=r.closest(".w-product-filter"),t=r,o=e.querySelector(".w-product-filter-inner"),i=e.getAttribute("data-collapse");e.style.transitionDuration="300ms",e.style.height=null===i?t.getBoundingClientRect().height+o.getBoundingClientRect().height+"px":t.getBoundingClientRect().height+"px",r.onclick=function(){var e,t=r.parentNode,o=t.querySelector(".w-product-filter-inner");null===t.getAttribute("data-collapse")?(t.classList.remove("is-opening"),t.classList.add("is-closing"),e=r.getBoundingClientRect().height,t.style.height=e+"px",setTimeout(function(){t.classList.contains("is-closing")&&t.setAttribute("data-collapse",""),t.classList.remove("is-closing")},300)):(t.classList.remove("is-closing"),t.classList.add("is-opening"),e=r.getBoundingClientRect().height,t.setAttribute("data-collapse",""),o=o.getBoundingClientRect().height,t.removeAttribute("data-collapse"),t.style.height=e+o+"px",setTimeout(function(){t.classList.remove("is-opening")},300))}})},woostifyToggleChildTerm=function(){var e=document.querySelectorAll('[data-type="checkbox"] .w-filter-item-depth');e.length&&(e.forEach(function(e){var t=e.previousElementSibling;t&&(e=e.classList.contains("visible")?woostify_product_filter.collapse_icon:woostify_product_filter.expand_icon,t.insertAdjacentHTML("beforeend",'<span class="expand-btn">'+e+"</span>"))}),(e=document.querySelectorAll('[data-type="checkbox"] .expand-btn')).length)&&e.forEach(function(o){var e=o.closest(".w-filter-item-wrap");e&&(e.classList.add("is-parent-item"),o.onclick=function(){o.innerHTML=woostify_product_filter.expand_icon===o.innerHTML?woostify_product_filter.collapse_icon:woostify_product_filter.expand_icon;var e,t=o.closest(".w-filter-item-wrap");t&&(t=t.nextElementSibling)&&t.classList.contains("w-filter-item-depth")&&(t.classList.contains("visible")?t.classList.remove("visible"):t.classList.add("visible"),(t=o.closest(".w-product-filter ")).style.height="auto",e=t.getBoundingClientRect().height,t.style.height=e+"px")})})},woostifyToggleSoftLimit=function(){var e=document.querySelectorAll(".w-product-filter .w-filter-toggle-btn");e.length&&e.forEach(function(o){o.onclick=function(){var e,t=o.parentNode.querySelector(".w-filter-item-overflow");t&&((e=o.parentNode.querySelector(".w-filter-toggle-btn.w-filter-hidden"))&&e.classList.remove("w-filter-hidden"),o.classList.add("w-filter-hidden"),t.classList.contains("w-filter-hidden")?t.classList.remove("w-filter-hidden"):t.classList.add("w-filter-hidden"),(e=o.closest(".w-product-filter ")).style.height="auto",t=e.getBoundingClientRect().height,e.style.height=t+"px")}})},woostifyUpdateFilters=function(e){for(var t in e)Array.isArray(e[t])&&!e[t].length&&delete e[t];var o;return Object.keys(e).length?(1===Object.keys(e).length?void 0===e.first_active_filter?e.first_active_filter=Object.keys(e)[0]:delete e.first_active_filter:void 0!==(o=e.first_active_filter)&&void 0===e[o]&&delete e.first_active_filter,e):{}},woostifyBuildQueryString=function(e){for(var t=woostify_product_filter.filters_url,o=Object.keys(e),r={},i=0,n=o.length;i<n;i++)void 0!==t[o[i]]&&(r[t[o[i]]]=e[o[i]]);return r},woostifyFilterQuickSearch=function(){var e=document.querySelectorAll(".w-filter-quick-search");e.length&&e.forEach(function(i){var e,n=i.parentNode.querySelectorAll(".w-filter-item-wrap");n.length&&((e=function(){for(var e=0,t=n.length;e<t;e++){var o,r=n[e].querySelector(".w-filter-item-name");r&&(o=i.value.toUpperCase(),r.innerText.toUpperCase().includes(o)?n[e].style.display="":n[e].style.display="none")}})(),i.addEventListener("input",e))})},mergeTooltips=function(y,w,g){var h=y.noUiSlider.getTooltips();h.forEach(function(e){e.style.transition="none"}),y.noUiSlider.on("update",function(e,t,o,r,i){var n=y.querySelector(".noUi-base .mergeTooltip"),l=(n||((n=document.createElement("div")).setAttribute("class","noUi-tooltip mergeTooltip"),n.style.visibility="hidden",y.querySelector(".noUi-base").appendChild(n)),[[]]),c=[[]],a=[[]],s=0;h[0]&&(l[0][0]=0,c[0][0]=i[0],a[0][0]=e[0]);for(var d=1,u=i.length;d<u;d++){var f=h[d].getBoundingClientRect(),p=h[d-1].getBoundingClientRect();(!h[d]||p.right-f.left+w<0)&&(l[++s]=[],a[s]=[],c[s]=[]),h[d]&&(l[s].push(d),a[s].push(e[d]),c[s].push(i[d]))}l.length<=1?(l.forEach(function(e,t){var o=(c[t][0]+c[t][1])/2,t=a[t].filter(function(e,t,o){return o.indexOf(e)===t});n.innerHTML=t.join(g),n.style.visibility="visible",n.style.transform="translate(-50%, -44%)",n.style.left=o+"%",n.style.transition="none"}),h.forEach(function(e){e.style.visibility="hidden"})):(n.style.visibility="hidden",h.forEach(function(e){e.style.visibility="visible"}))})},woostifyAjaxFilter=function(){var u,r,f,i,l,p,n,y,c,s,d,w,g,h,m,v,b,e=document.querySelectorAll(".w-product-filter[data-type]"),S=document.querySelector(".w-result-filter");e.length&&S&&(u=document.querySelector(".w-filter-key"),S.querySelector(".products"),e=document.getElementById("wpadminbar"),r=e?e.offsetHeight:0,f=Array.isArray(woostify_product_filter.active_params)?{}:woostify_product_filter.active_params,i={},l=1,p=new CustomEvent("filtered",{detail:!0}),u&&woostify_product_filter.remove_key&&(u.innerHTML=woostify_product_filter.remove_key),(n=function(){var n=S.querySelectorAll(".woocommerce-pagination .page-numbers a.page-numbers");if(n.length)for(var e=0,t=n.length;e<t;e++)!function(i){n[i].onclick=function(e){e.preventDefault();var e=S.querySelector(".woocommerce-pagination .page-numbers .page-numbers.current"),t=n[i].classList.contains("prev"),o=n[i].classList.contains("next"),r=1;t&&e&&(r=Number(e.innerText)-1),o&&e&&(r=Number(e.innerText)+1),t||o||(r=Number(n[i].innerText)),l=r,document.body.dispatchEvent(new CustomEvent("filtered",{detail:!1}))}}(e)})(),(y=function(U,N){var e=document.querySelectorAll(".w-product-filter[data-type]");e.length&&e.forEach(function(T){var x=T.getAttribute("data-type"),O=T.getAttribute("data-id"),C="tmp_"+O,e=(console.log(C),window[C]||(window[C]=void 0===U[O]?[]:U[O]),i[O]=x,function(){switch(x){case"search":var o=T.querySelector(".w-product-filter-text-field"),t=T.querySelector(".w-product-filter-search-icon");if(!o||!t)return{v:void 0};o.onkeyup=function(e){13===e.keyCode&&t.click()},t.onclick=function(){var e=o.value.trim(),t=o.getAttribute("data-value")||"";e&&t!=e&&(o.setAttribute("data-value",e),U[O]=e,document.body.dispatchEvent(N))};break;case"date-range":var r=T.querySelector("[data-from]"),i=T.querySelector("[data-to]"),e=T.querySelector(".w-filter-item-submit");if(!r||!i||!e)return{v:void 0};e.onclick=function(){var e;r.value&&i.value&&((e=[])[0]=r.value,e[1]=i.value,U[O]=e,document.body.dispatchEvent(N))};break;case"rating":var n=T.querySelectorAll(".w-filter-rating-item");if(!n.length)return{v:void 0};for(var l=0,c=n.length;l<c;l++)!function(t){n[t].onclick=function(){var e;n[t].classList.contains("selected")||((e=T.querySelector(".w-filter-rating-item.selected"))&&e.classList.remove("selected"),n[t].classList.add("selected"),U[O]=5-t,document.body.dispatchEvent(N))}}(l);break;case"sort-order":var a=T.querySelector(".w-product-filter-select-field.w-filter-ordering");if(!a)return{v:void 0};a.onchange=function(e){e.preventDefault(),U[O]=a.value,document.body.dispatchEvent(N)};break;case"select":var s=T.querySelector(".w-product-filter-select-field");if(!s)return{v:void 0};s.onchange=function(){U[O]=s.value,document.body.dispatchEvent(N)};break;case"radio":var d=T.querySelectorAll('[type="radio"]');if(!d.length)return{v:void 0};for(var u=0,f=d.length;u<f;u++)!function(e){d[e].onchange=function(){U[O]=d[e].parentNode.getAttribute("data-slug"),document.body.dispatchEvent(N)}}(u);break;case"range-slider":var p,y,w,g;T&&(e=T.querySelector(".w-filter-range-slider"))&&"object"!==_typeof(T.noUiSlider)&&!e.classList.contains("noUi-target")&&(p=T.querySelector(".w-filter-range-slider-reset"),y=JSON.parse(e.getAttribute("data-start")),w=JSON.parse(e.getAttribute("data-range")),(g=noUiSlider.create(e,{tooltips:!0,connect:!0,start:y,step:1,range:w,format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}})).on("change",function(e,t,o,r,i,n){U["range-slider"]=n.options.range,U[O]=e,document.body.dispatchEvent(N)}),p&&(p.onclick=function(){var e,t=p.previousElementSibling;t&&(t=t.querySelector(".noUi-handle-upper"))&&(e=Number(t.getAttribute("aria-valuemin")||0),t=Number(t.getAttribute("aria-valuemax")||0),g.set([e,t]),delete U[O],document.body.dispatchEvent(N))}),mergeTooltips(e,2," - "));break;case"check-range":var h=T.querySelectorAll('[type="checkbox"]');if(!h.length)return{v:void 0};for(var m=0,v=h.length;m<v;m++)!function(e){h[e].onclick=function(){var t=h[e].parentNode.getAttribute("data-value");window[C].includes(t)?window[C]=window[C].filter(function(e){return e!==t}):window[C].push(t),U[O]=window[C],document.body.dispatchEvent(N)}}(m);break;case"checkbox":var b=T.querySelectorAll('[type="checkbox"]');if(!b.length)return{v:void 0};for(var S=0,_=b.length;S<_;S++)!function(e){b[e].onclick=function(){Number(b[e].parentNode.getAttribute("data-id"));var t=b[e].parentNode.getAttribute("data-slug");window[C].includes(t)?window[C]=window[C].filter(function(e){return e!==t}):window[C].push(t),U[O]=window[C],document.body.dispatchEvent(N)}}(S);break;case"stock":var k=T.querySelectorAll('[type="checkbox"]');if(!k.length)return{v:void 0};for(var q=0,L=k.length;q<L;q++)!function(e){k[e].onclick=function(){Number(k[e].parentNode.getAttribute("data-id"));var t=k[e].parentNode.getAttribute("data-slug");window[C].includes(t)?window[C]=window[C].filter(function(e){return e!==t}):window[C].push(t),U[O]=window[C],document.body.dispatchEvent(N)}}(q);break;case"visual":var A=T.querySelectorAll(".w-filter-item");if(!A.length)return{v:void 0};for(var E=0,j=A.length;E<j;E++)!function(e){A[e].onclick=function(){var t=A[e].getAttribute("data-slug");window[C].includes(t)?(window[C]=window[C].filter(function(e){return e!==t}),A[e].classList.remove("selected")):(window[C].push(t),A[e].classList.add("selected")),U[O]=window[C],document.body.dispatchEvent(N)}}(E)}}());if("object"===_typeof(e))return e.v})})(f,p),(c=function(){var a=u?u.querySelectorAll(".w-filter-key-remove"):[];if(a.length)for(var e=0,t=a.length;e<t;e++)!function(c){a[c].onclick=function(){var e=a[c].getAttribute("data-id"),t=a[c].getAttribute("data-type"),o=a[c].getAttribute("data-value");if(t){switch(t){case"all":for(var r=Object.getOwnPropertyNames(f),i=0,n=r.length;i<n;i++)delete f[r[i]];var l=woostifyBuildQueryString(woostifyUpdateFilters(f)),l=_objectSpread(_objectSpread({},Object.fromEntries(new URLSearchParams(location.search))),l),l=new URLSearchParams(l).toString(),l=(Object.keys(f).length||(l=""),history.pushState&&history.pushState(null,null,l?"?"+l:window.location.pathname),a[c].parentNode.querySelectorAll("[data-id]"));l.length&&l.forEach(function(e){e=e.getAttribute("data-id");window["tmp_"+e]&&(window["tmp_"+e]=[])}),v(),s(),d(),w(),g(),h(),m(),b();break;case"sort-order":b(),delete f[e];break;case"search":d(),delete f[e];break;case"date-range":g(),delete f[e];break;case"check-range":if(!o)return;l=window["tmp_"+e];void 0!==l&&(l=l.filter(function(e){return e!==o}),window["tmp_"+e]=l,f[e]=l,l=document.querySelector('.w-product-filter[data-id="'+e+'"] [data-value="'+o+'"] [type="checkbox"]:checked'))&&(l.checked=!1);break;case"range-slider":w(),delete f[e];break;case"rating":h(),delete f[e];break;case"select":l=document.querySelector('.w-product-filter[data-id="'+e+'"] .w-product-filter-select-field');l&&(l.value=""),delete f[e];case"radio":l=document.querySelector('.w-product-filter[data-id="'+e+'"] [data-id="'+o+'"] [type="radio"]:checked');l&&(l.checked=!1),delete f[e];break;case"checkbox":case"stock":case"visual":if(!o)return;var l=window["tmp_"+e];console.log(l),void 0!==l&&(l=l.filter(function(e){return e!==o}),window["tmp_"+e]=l,f[e]=l,l=woostifyBuildQueryString(woostifyUpdateFilters(f)),l=_objectSpread(_objectSpread({},Object.fromEntries(new URLSearchParams(location.search))),l),l=new URLSearchParams(l).toString(),Object.keys(f).length||(l=""),history.pushState&&history.pushState(null,null,l?"?"+l:window.location.pathname),l=document.querySelector('.w-product-filter[data-id="'+e+'"] [data-id="'+o+'"] [type="checkbox"]:checked'))&&(l.checked=!1)}document.body.dispatchEvent(p)}}}(e)})(),s=function(){var e=document.querySelectorAll(".w-product-filter-select-field");e.length&&e.forEach(function(e){e.value=""})},d=function(){var e=document.querySelectorAll(".w-product-filter-text-field");e.length&&e.forEach(function(e){e.value=""})},w=function(){var e=document.querySelectorAll(".w-product-filter-type-range-slider");e.length&&e.forEach(function(e){"object"===_typeof(e.noUiSlider)&&e.noUiSlider.set(e.noUiSlider.options.start)})},g=function(){var e=document.querySelectorAll(".w-filter-date-picker");e.length&&e.forEach(function(e){e.value=""})},h=function(){var e=document.querySelector(".w-product-filter-type-rating .selected");e&&e.classList.remove("selected")},m=function(){var e=document.querySelectorAll('.w-product-filter-inner [type="checkbox"]:checked, .w-product-filter-inner [type="radio"]:checked');e.length&&e.forEach(function(e){e.checked=!1})},v=function(){var e=document.querySelectorAll(".w-filter-item.selected");e.length&&e.forEach(function(e){e.classList.remove("selected")})},b=function(){var e=document.querySelectorAll(".w-filter-ordering");e.length&&(e.value="")},document.body.addEventListener("filtered",function(e){var t=document.body.getBoundingClientRect().top,o=S.getBoundingClientRect().top,t=(o<r&&window.scrollTo({top:-1*t- -1*o-r,behavior:"smooth"}),document.querySelector("ul.products")),o=(t&&!t.querySelector(".filter-loading")&&t.insertAdjacentHTML("beforeend",'<span class="filter-loading"></span>'),e.detail&&(l=1),document.body.classList.add("filter-updating"),woostifyBuildQueryString(woostifyUpdateFilters(f))),t=Object.fromEntries(new URLSearchParams(location.search)),e=_objectSpread(_objectSpread({},t),o),o=new URLSearchParams(e).toString(),e=(history.pushState&&history.pushState(null,null,o?"?"+o:window.location.pathname),{action:"woostify_product_filter",ajax_nonce:woostify_product_filter.ajax_nonce,per_page:S.getAttribute("data-posts")||"",paged:l,term_id:woostify_product_filter.term_id,taxonomy:woostify_product_filter.taxonomy,list_filter:JSON.stringify(i),search_param:t.s||"",data:JSON.stringify(woostifyUpdateFilters(f))}),e=new URLSearchParams(e).toString(),o=new Request(woostify_product_filter.ajax_url,{method:"POST",body:e,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});fetch(o).then(function(e){if(200!==e.status)throw console.log("Status Code: "+e.status),e;return e.json()}).then(function(e){if(e.success){var t=e.data,e=S.querySelector(".woostify-sorting .woocommerce-result-count"),o=S.querySelector(".products"),r=S.querySelector(".woocommerce-pagination"),i=document.querySelector(".shop-widget"),n=jQuery("#woostify-overlay"),l=jQuery("html");if(e&&t.result_count&&(e.innerHTML=t.result_count),o&&(o.innerHTML=t.content),r&&(t.pagination?r.innerHTML=t.pagination:r.innerHTML=""),u&&(u.innerHTML=t.filtered),t.template)for(var c in t.template){var c=t.template[c],a=c.id,s=c.type,d=(new DOMParser).parseFromString(c.template,"text/html").querySelector(".w-product-filter"),s=jQuery('.w-product-filter[data-type="'+s+'"][data-id="'+a+'"]');c.template?s&&d&&(s.html(d.innerHTML),y(f,p)):s.innerHTML=""}woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),woostifySwatchList(),i.classList.remove("active"),n.removeClass("active"),l.removeClass("sidebar-mobile-open")}}).catch(function(e){console.log(e)}).finally(function(){document.body.classList.remove("filter-updating"),c(),n(),"function"==typeof woostifyInfiniteScroll&&void 0!==window.infScroll&&(window.infScroll.destroy(),woostifyInfiniteScroll(!1,function(){var e=window.location.hostname,t=window.location.protocol,o=window.location.pathname,r=this.loadCount+2,i=window.location.search.substring(1);return o.match(/(page\/)[0-9]+/)||(o=o+"page/"+r),""===i?t+"//"+e+o+"/":t+"//"+e+o+"/?"+i})),"function"==typeof woostifyQuickView&&woostifyQuickView(),woostifyFilterDatePicker()})}))},woostifyFilterOrdering=function(){var t,e=document.querySelector("form.woocommerce-ordering"),o=!!e&&e.querySelector("select.orderby"),r=document.querySelector("select.w-filter-ordering");o&&r&&(t=new CustomEvent("change"),o.addEventListener("change",function(e){e.preventDefault(),r.value=o.value,r.dispatchEvent(t)}),jQuery(".woocommerce-ordering").on("submit",function(e){e.preventDefault()}))};document.addEventListener("DOMContentLoaded",function(){woostifyAjaxFilter(),woostifyFilterDatePicker(),woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),woostifyFilterOrdering(),window.addEventListener("click",function(t){var e=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .w-product-filter");if(!e.length||e.length<1)return!1;e.forEach(function(e){e.contains(t.target)||e.classList.remove("open")})}),"function"==typeof onElementorLoaded&&onElementorLoaded(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-filter-date-range.default",function(){woostifyFilterDatePicker()}),window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-filter-range-slider.default",function(){var e=document.querySelectorAll(".w-product-filter-type-range-slider");e.length&&e.forEach(function(e){var t,o;"object"!==_typeof(e.noUiSlider)&&(t=Number(e.getAttribute("data-from"))||0,o=Number(e.getAttribute("data-to"))||100,noUiSlider.create(e,{tooltips:!0,connect:!0,start:[t,o],step:1,range:{min:t,max:o},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}}))})})})});